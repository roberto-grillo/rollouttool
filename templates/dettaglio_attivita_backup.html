<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Dettaglio attivit√† #{{ attivita.id }}</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; }
    td { padding: 6px; border: 1px solid #ccc; vertical-align: top; }
    td.label { font-weight: bold; background-color: #f0f0f0; width: 25%; }
    .ok    { background-color: #d4edda; color: #155724; font-weight: bold; }
    .nok   { background-color: #f8d7da; color: #721c24; font-weight: bold; }
    .vuoto { background-color: #f0f0f0; color: #666; }

  </style>
</head>
<body>
  <h1>Dettaglio attivit√† #{{ attivita.id }}</h1>
  <a href="/mappa">üåç Visualizza la mappa</a>
  <p><a href="/attivita">‚Üê Torna alla lista</a></p>
  <table>
    {% for column in attivita.__table__.columns %}
      <tr>
        <td class="label">{{ column.name.replace('_', ' ').upper() }}</td>

        {% set valore = getattr(attivita, column.name) %}
        {% set classe = "" %}
        {% if "esito" in column.name.lower() %}
          {% if valore == "OK" %}
            {% set classe = "ok" %}
          {% elif valore == "NOK" %}
            {% set classe = "nok" %}
          {% else %}
            {% set classe = "vuoto" %}
          {% endif %}
        {% endif %}
        <td class="{{ classe }}">{{ valore }}</td>

        
      </tr>
    {% endfor %}
  </table>

  <p><a href="/attivita">‚Üê Torna alla lista</a></p>
</body>
</html>
